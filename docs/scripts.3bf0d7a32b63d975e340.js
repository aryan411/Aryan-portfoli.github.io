"use strict";require("./color-thief"),angular.module("ngColorThief",[]).provider("$colorThief",[function(){var e,t,o=new ColorThief,r=!1;this.setDefaultQuality=function(t){e=t},this.setDefaultColorCount=function(e){t=e},this.setReturnObjects=function(e){r=e},this.$get=[function(){function n(e){return r?{r:e[0],g:e[1],b:e[2]}:e}return{getColor:function(t,r){return n(o.getColor(t,r||e))},getPalette:function(r,i,l){for(var a=o.getPalette(r,i||t,l||e),c=a.length-1;c>=0;c--)a[c]=n(a[c]);return a}}}]}]).directive("colorThief",["$parse","$colorThief",function(e,t){return{restrict:"A",scope:{dominant:"=colorThiefDominant",palette:"=colorThiefPalette"},link:function(o,r,n){if("IMG"!==angular.uppercase(r[0].tagName))throw new Error("The colorThief directive has to be applied to an IMG tag.");(angular.isDefined(n.crossorigin)||angular.isDefined(n.crossOrigin))&&(r[0].crossOrigin=n.crossorigin||n.crossOrigin||"Anonymous");var i=n.colorThiefPaletteCount?e(n.colorThiefPaletteCount)():void 0;r.on("load",(function(){o.$apply((function(){n.colorThiefDominant&&(o.dominant=t.getColor(r[0])),n.colorThiefPalette&&(o.palette=t.getPalette(r[0],i))}))}))}}}]);